(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[45],{kHI8:function(e,t,n){var r=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){var n,r;(t="undefined"!==typeof(t=t||{})?t:{}).ready=new Promise((function(e,t){n=e,r=t}));var o,a={};for(o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);var i,s,u,c=[],l="";document.currentScript&&(l=document.currentScript.src),e&&(l=e),l=0!==l.indexOf("blob:")?l.substr(0,l.lastIndexOf("/")+1):"",i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},s=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)};var d=t.print||console.log.bind(console),f=t.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(t[o]=a[o]);a=null,t.arguments&&(c=t.arguments),t.thisProgram&&t.thisProgram,t.quit&&t.quit;var m,p;function h(e){h.shown||(h.shown={}),h.shown[e]||(h.shown[e]=1,f(e))}t.wasmBinary&&(m=t.wasmBinary),t.noExitRuntime&&t.noExitRuntime,"object"!==typeof WebAssembly&&V("no native wasm support detected");var v=new WebAssembly.Table({initial:161,maximum:161,element:"anyfunc"}),w=!1;function g(e,t){e||V("Assertion failed: "+t)}function y(e){var n=t["_"+e];return g(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function E(e,t,n,r,o){var a={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){x(e,A,t,n)})(e,t=Fe(n),n)}return t},array:function(e){var t=Fe(e.length);return function(e,t){S.set(e,t)}(e,t),t}};var i=y(e),s=[],u=0;if(r)for(var c=0;c<r.length;c++){var l=a[n[c]];l?(0===u&&(u=Me()),s[c]=l(r[c])):s[c]=r[c]}var d=i.apply(null,s);return d=function(e){return"string"===t?_(e):"boolean"===t?Boolean(e):e}(d),0!==u&&Ce(u),d}var b="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&b)return b.decode(e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var u=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function _(e,t){return e?k(A,e,t):""}function x(e,t,n,r){if(!(r>0))return 0;for(var o=n,a=n+r-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i);if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}var L,S,A,M,C,F,P;function R(e){L=e,t.HEAP8=S=new Int8Array(e),t.HEAP16=M=new Int16Array(e),t.HEAP32=C=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=F=new Uint32Array(e),t.HEAPF32=P=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var T=t.INITIAL_MEMORY||67108864;(p=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:T/65536,maximum:32768}))&&(L=p.buffer),T=L.byteLength,R(L),C[2952]=5254704;var B=[],O=[],N=[],z=[];var I=Math.abs,j=Math.ceil,q=Math.floor,X=Math.min,G=0,U=null,W=null;function Y(e){G++,t.monitorRunDependencies&&t.monitorRunDependencies(G)}function H(e){if(G--,t.monitorRunDependencies&&t.monitorRunDependencies(G),0==G&&(null!==U&&(clearInterval(U),U=null),W)){var n=W;W=null,n()}}function V(e){t.onAbort&&t.onAbort(e),f(e+=""),w=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(e);throw r(n),n}t.preloadedImages={},t.preloadedAudios={};function K(e){return t=e,n="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(n):0===t.indexOf(n);var t,n}var J,Q,$="webp_wasm.wasm";function Z(){try{if(m)return new Uint8Array(m);if(u)return u($);throw"both async and sync fetching of the wasm failed"}catch(f){V(f)}}function ee(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"===typeof r?void 0===n.arg?v.get(r)():v.get(r)(n.arg):r(void 0===n.arg?null:n.arg)}else n(t)}}function te(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return t.extraStackTrace&&(e+="\n"+t.extraStackTrace()),e.replace(/\b_Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function ne(e){return C[Ae()>>2]=e,e}O.push({func:function(){_e()}});var re,oe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=oe.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=oe.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=oe.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return oe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return oe.normalize(e.join("/"))},join2:function(e,t){return oe.normalize(e+"/"+t)}},ae={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:ue.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=oe.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=ae.resolve(e).substr(1),t=ae.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),a=Math.min(r.length,o.length),i=a,s=0;s<a;s++)if(r[s]!==o[s]){i=s;break}var u=[];for(s=i;s<r.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},ie={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ie.ttys[e]={input:[],output:[],ops:t},ue.registerDevice(e,ie.stream_ops)},stream_ops:{open:function(e){var t=ie.ttys[e.node.rdev];if(!t)throw new ue.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.get_char)throw new ue.ErrnoError(60);for(var a=0,i=0;i<r;i++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(u){throw new ue.ErrnoError(29)}if(void 0===s&&0===a)throw new ue.ErrnoError(6);if(null===s||void 0===s)break;a++,t[n+i]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.put_char)throw new ue.ErrnoError(60);try{for(var a=0;a<r;a++)e.tty.ops.put_char(e.tty,t[n+a])}catch(i){throw new ue.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=Ee(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(d(k(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(d(k(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(f(k(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(f(k(e.output,0)),e.output=[])}}},se={ops_table:null,mount:function(e){return se.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(ue.isBlkdev(n)||ue.isFIFO(n))throw new ue.ErrnoError(63);se.ops_table||(se.ops_table={dir:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,lookup:se.node_ops.lookup,mknod:se.node_ops.mknod,rename:se.node_ops.rename,unlink:se.node_ops.unlink,rmdir:se.node_ops.rmdir,readdir:se.node_ops.readdir,symlink:se.node_ops.symlink},stream:{llseek:se.stream_ops.llseek}},file:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:{llseek:se.stream_ops.llseek,read:se.stream_ops.read,write:se.stream_ops.write,allocate:se.stream_ops.allocate,mmap:se.stream_ops.mmap,msync:se.stream_ops.msync}},link:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,readlink:se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:ue.chrdev_stream_ops}});var o=ue.createNode(e,t,n,r);return ue.isDir(o.mode)?(o.node_ops=se.ops_table.dir.node,o.stream_ops=se.ops_table.dir.stream,o.contents={}):ue.isFile(o.mode)?(o.node_ops=se.ops_table.file.node,o.stream_ops=se.ops_table.file.stream,o.usedBytes=0,o.contents=null):ue.isLink(o.mode)?(o.node_ops=se.ops_table.link.node,o.stream_ops=se.ops_table.link.stream):ue.isChrdev(o.mode)&&(o.node_ops=se.ops_table.chrdev.node,o.stream_ops=se.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ue.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ue.isDir(e.mode)?t.size=4096:ue.isFile(e.mode)?t.size=e.usedBytes:ue.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&se.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ue.genericErrors[44]},mknod:function(e,t,n,r){return se.createNode(e,t,n,r)},rename:function(e,t,n){if(ue.isDir(e.mode)){var r;try{r=ue.lookupNode(t,n)}catch(a){}if(r)for(var o in r.contents)throw new ue.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=ue.lookupNode(e,t);for(var r in n.contents)throw new ue.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=se.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!ue.isLink(e.mode))throw new ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,r);if(i>8&&a.subarray)t.set(a.subarray(o,o+i),n);else for(var s=0;s<i;s++)t[n+s]=a[o+s];return i},write:function(e,t,n,r,o,a){if(t.buffer===S.buffer&&(a=!1),!r)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=t.subarray(n,n+r),i.usedBytes=r,r;if(0===i.usedBytes&&0===o)return i.contents=t.slice(n,n+r),i.usedBytes=r,r;if(o+r<=i.usedBytes)return i.contents.set(t.subarray(n,n+r),o),r}if(se.expandFileStorage(i,o+r),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(n,n+r),o);else for(var s=0;s<r;s++)i.contents[o+s]=t[n+s];return i.usedBytes=Math.max(i.usedBytes,o+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&ue.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new ue.ErrnoError(28);return r},allocate:function(e,t,n){se.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,o,a){if(g(0===t),!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);var i,s,u=e.node.contents;if(2&a||u.buffer!==L){if((r>0||r+n<u.length)&&(u=u.subarray?u.subarray(r,r+n):Array.prototype.slice.call(u,r,r+n)),s=!0,!(i=ue.mmapAlloc(n)))throw new ue.ErrnoError(48);S.set(u,i)}else s=!1,i=u.byteOffset;return{ptr:i,allocated:s}},msync:function(e,t,n,r,o){if(!ue.isFile(e.node.mode))throw new ue.ErrnoError(43);if(2&o)return 0;se.stream_ops.write(e,t,0,r,n,!1);return 0}}},ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof ue.ErrnoError))throw e+" : "+te();return ne(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=ae.resolve(ue.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new ue.ErrnoError(32);for(var o=oe.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=ue.root,i="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&t.parent)break;if(a=ue.lookupNode(a,o[s]),i=oe.join2(i,o[s]),ue.isMountpoint(a)&&(!u||u&&t.follow_mount)&&(a=a.mounted.root),!u||t.follow)for(var c=0;ue.isLink(a.mode);){var l=ue.readlink(i);if(i=ae.resolve(oe.dirname(i),l),a=ue.lookupPath(i,{recurse_count:t.recurse_count}).node,c++>40)throw new ue.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var t;;){if(ue.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%ue.nameTable.length},hashAddNode:function(e){var t=ue.hashName(e.parent.id,e.name);e.name_next=ue.nameTable[t],ue.nameTable[t]=e},hashRemoveNode:function(e){var t=ue.hashName(e.parent.id,e.name);if(ue.nameTable[t]===e)ue.nameTable[t]=e.name_next;else for(var n=ue.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=ue.mayLookup(e);if(n)throw new ue.ErrnoError(n,e);for(var r=ue.hashName(e.id,t),o=ue.nameTable[r];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===t)return o}return ue.lookup(e,t)},createNode:function(e,t,n,r){var o=new ue.FSNode(e,t,n,r);return ue.hashAddNode(o),o},destroyNode:function(e){ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=ue.flagModes[e];if("undefined"===typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return ue.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=ue.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{ue.lookupNode(e,t);return 20}catch(n){}return ue.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=ue.lookupNode(e,t)}catch(a){return a.errno}var o=ue.nodePermissions(e,"wx");if(o)return o;if(n){if(!ue.isDir(r.mode))return 54;if(ue.isRoot(r)||ue.getPath(r)===ue.cwd())return 10}else if(ue.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?ue.isLink(e.mode)?32:ue.isDir(e.mode)&&("r"!==ue.flagsToPermissionString(t)||512&t)?31:ue.nodePermissions(e,ue.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||ue.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!ue.streams[n])return n;throw new ue.ErrnoError(33)},getStream:function(e){return ue.streams[e]},createStream:function(e,t,n){ue.FSStream||(ue.FSStream=function(){},ue.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new ue.FSStream;for(var o in e)r[o]=e[o];e=r;var a=ue.nextfd(t,n);return e.fd=a,ue.streams[a]=e,e},closeStream:function(e){ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=ue.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){ue.devices[e]={stream_ops:t}},getDevice:function(e){return ue.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"===typeof e&&(t=e,e=!1),ue.syncFSRequests++,ue.syncFSRequests>1&&f("warning: "+ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=ue.getMounts(ue.root.mount),r=0;function o(e){return ue.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++r>=n.length&&o(null)}n.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,n){var r,o="/"===n,a=!n;if(o&&ue.root)throw new ue.ErrnoError(10);if(!o&&!a){var i=ue.lookupPath(n,{follow_mount:!1});if(n=i.path,r=i.node,ue.isMountpoint(r))throw new ue.ErrnoError(10);if(!ue.isDir(r.mode))throw new ue.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?ue.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=ue.lookupPath(e,{follow_mount:!1});if(!ue.isMountpoint(t.node))throw new ue.ErrnoError(28);var n=t.node,r=n.mounted,o=ue.getMounts(r);Object.keys(ue.nameTable).forEach((function(e){for(var t=ue.nameTable[e];t;){var n=t.name_next;-1!==o.indexOf(t.mount)&&ue.destroyNode(t),t=n}})),n.mounted=null;var a=n.mount.mounts.indexOf(r);n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=ue.lookupPath(e,{parent:!0}).node,o=oe.basename(e);if(!o||"."===o||".."===o)throw new ue.ErrnoError(28);var a=ue.mayCreate(r,o);if(a)throw new ue.ErrnoError(a);if(!r.node_ops.mknod)throw new ue.ErrnoError(63);return r.node_ops.mknod(r,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,ue.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,ue.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{ue.mkdir(r,t)}catch(a){if(20!=a.errno)throw a}}},mkdev:function(e,t,n){return"undefined"===typeof n&&(n=t,t=438),t|=8192,ue.mknod(e,t,n)},symlink:function(e,t){if(!ae.resolve(e))throw new ue.ErrnoError(44);var n=ue.lookupPath(t,{parent:!0}).node;if(!n)throw new ue.ErrnoError(44);var r=oe.basename(t),o=ue.mayCreate(n,r);if(o)throw new ue.ErrnoError(o);if(!n.node_ops.symlink)throw new ue.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,o=oe.dirname(e),a=oe.dirname(t),i=oe.basename(e),s=oe.basename(t);if(n=ue.lookupPath(e,{parent:!0}).node,r=ue.lookupPath(t,{parent:!0}).node,!n||!r)throw new ue.ErrnoError(44);if(n.mount!==r.mount)throw new ue.ErrnoError(75);var u,c=ue.lookupNode(n,i),l=ae.relative(e,a);if("."!==l.charAt(0))throw new ue.ErrnoError(28);if("."!==(l=ae.relative(t,o)).charAt(0))throw new ue.ErrnoError(55);try{u=ue.lookupNode(r,s)}catch(p){}if(c!==u){var d=ue.isDir(c.mode),m=ue.mayDelete(n,i,d);if(m)throw new ue.ErrnoError(m);if(m=u?ue.mayDelete(r,s,d):ue.mayCreate(r,s))throw new ue.ErrnoError(m);if(!n.node_ops.rename)throw new ue.ErrnoError(63);if(ue.isMountpoint(c)||u&&ue.isMountpoint(u))throw new ue.ErrnoError(10);if(r!==n&&(m=ue.nodePermissions(n,"w")))throw new ue.ErrnoError(m);try{ue.trackingDelegate.willMovePath&&ue.trackingDelegate.willMovePath(e,t)}catch(p){f("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+p.message)}ue.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(p){throw p}finally{ue.hashAddNode(c)}try{ue.trackingDelegate.onMovePath&&ue.trackingDelegate.onMovePath(e,t)}catch(p){f("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+p.message)}}},rmdir:function(e){var t=ue.lookupPath(e,{parent:!0}).node,n=oe.basename(e),r=ue.lookupNode(t,n),o=ue.mayDelete(t,n,!0);if(o)throw new ue.ErrnoError(o);if(!t.node_ops.rmdir)throw new ue.ErrnoError(63);if(ue.isMountpoint(r))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(e)}catch(a){f("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+a.message)}t.node_ops.rmdir(t,n),ue.destroyNode(r);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(e)}catch(a){f("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},readdir:function(e){var t=ue.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new ue.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=ue.lookupPath(e,{parent:!0}).node,n=oe.basename(e),r=ue.lookupNode(t,n),o=ue.mayDelete(t,n,!1);if(o)throw new ue.ErrnoError(o);if(!t.node_ops.unlink)throw new ue.ErrnoError(63);if(ue.isMountpoint(r))throw new ue.ErrnoError(10);try{ue.trackingDelegate.willDeletePath&&ue.trackingDelegate.willDeletePath(e)}catch(a){f("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+a.message)}t.node_ops.unlink(t,n),ue.destroyNode(r);try{ue.trackingDelegate.onDeletePath&&ue.trackingDelegate.onDeletePath(e)}catch(a){f("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},readlink:function(e){var t=ue.lookupPath(e).node;if(!t)throw new ue.ErrnoError(44);if(!t.node_ops.readlink)throw new ue.ErrnoError(28);return ae.resolve(ue.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=ue.lookupPath(e,{follow:!t}).node;if(!n)throw new ue.ErrnoError(44);if(!n.node_ops.getattr)throw new ue.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return ue.stat(e,!0)},chmod:function(e,t,n){var r;"string"===typeof e?r=ue.lookupPath(e,{follow:!n}).node:r=e;if(!r.node_ops.setattr)throw new ue.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){ue.chmod(e,t,!0)},fchmod:function(e,t){var n=ue.getStream(e);if(!n)throw new ue.ErrnoError(8);ue.chmod(n.node,t)},chown:function(e,t,n,r){var o;"string"===typeof e?o=ue.lookupPath(e,{follow:!r}).node:o=e;if(!o.node_ops.setattr)throw new ue.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,n){ue.chown(e,t,n,!0)},fchown:function(e,t,n){var r=ue.getStream(e);if(!r)throw new ue.ErrnoError(8);ue.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new ue.ErrnoError(28);var n;"string"===typeof e?n=ue.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new ue.ErrnoError(63);if(ue.isDir(n.mode))throw new ue.ErrnoError(31);if(!ue.isFile(n.mode))throw new ue.ErrnoError(28);var r=ue.nodePermissions(n,"w");if(r)throw new ue.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=ue.getStream(e);if(!n)throw new ue.ErrnoError(8);if(0===(2097155&n.flags))throw new ue.ErrnoError(28);ue.truncate(n.node,t)},utime:function(e,t,n){var r=ue.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,n,r,o,a){if(""===e)throw new ue.ErrnoError(44);var i;if(r="undefined"===typeof r?438:r,r=64&(n="string"===typeof n?ue.modeStringToFlags(n):n)?4095&r|32768:0,"object"===typeof e)i=e;else{e=oe.normalize(e);try{i=ue.lookupPath(e,{follow:!(131072&n)}).node}catch(d){}}var s=!1;if(64&n)if(i){if(128&n)throw new ue.ErrnoError(20)}else i=ue.mknod(e,r,0),s=!0;if(!i)throw new ue.ErrnoError(44);if(ue.isChrdev(i.mode)&&(n&=-513),65536&n&&!ue.isDir(i.mode))throw new ue.ErrnoError(54);if(!s){var u=ue.mayOpen(i,n);if(u)throw new ue.ErrnoError(u)}512&n&&ue.truncate(i,0),n&=-131713;var c=ue.createStream({node:i,path:ue.getPath(i),flags:n,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},o,a);c.stream_ops.open&&c.stream_ops.open(c),!t.logReadFiles||1&n||(ue.readFiles||(ue.readFiles={}),e in ue.readFiles||(ue.readFiles[e]=1,f("FS.trackingDelegate error on read file: "+e)));try{if(ue.trackingDelegate.onOpenFile){var l=0;1!==(2097155&n)&&(l|=ue.tracking.openFlags.READ),0!==(2097155&n)&&(l|=ue.tracking.openFlags.WRITE),ue.trackingDelegate.onOpenFile(e,l)}}catch(d){f("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+d.message)}return c},close:function(e){if(ue.isClosed(e))throw new ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ue.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,o){if(r<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(1===(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.read)throw new ue.ErrnoError(28);var a="undefined"!==typeof o;if(a){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;var i=e.stream_ops.read(e,t,n,r,o);return a||(e.position+=i),i},write:function(e,t,n,r,o,a){if(r<0||o<0)throw new ue.ErrnoError(28);if(ue.isClosed(e))throw new ue.ErrnoError(8);if(0===(2097155&e.flags))throw new ue.ErrnoError(8);if(ue.isDir(e.node.mode))throw new ue.ErrnoError(31);if(!e.stream_ops.write)throw new ue.ErrnoError(28);e.seekable&&1024&e.flags&&ue.llseek(e,0,2);var i="undefined"!==typeof o;if(i){if(!e.seekable)throw new ue.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,n,r,o,a);i||(e.position+=s);try{e.path&&ue.trackingDelegate.onWriteToFile&&ue.trackingDelegate.onWriteToFile(e.path)}catch(u){f("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+u.message)}return s},allocate:function(e,t,n){if(ue.isClosed(e))throw new ue.ErrnoError(8);if(t<0||n<=0)throw new ue.ErrnoError(28);if(0===(2097155&e.flags))throw new ue.ErrnoError(8);if(!ue.isFile(e.node.mode)&&!ue.isDir(e.node.mode))throw new ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new ue.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,o,a){if(0!==(2&o)&&0===(2&a)&&2!==(2097155&e.flags))throw new ue.ErrnoError(2);if(1===(2097155&e.flags))throw new ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new ue.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,o,a)},msync:function(e,t,n,r,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,o):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new ue.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=ue.open(e,t.flags),o=ue.stat(e).size,a=new Uint8Array(o);return ue.read(r,a,0,o,0),"utf8"===t.encoding?n=k(a,0):"binary"===t.encoding&&(n=a),ue.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||"w";var r=ue.open(e,n.flags,n.mode);if("string"===typeof t){var o=new Uint8Array(D(t)+1),a=x(t,o,0,o.length);ue.write(r,o,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ue.write(r,t,0,t.byteLength,void 0,n.canOwn)}ue.close(r)},cwd:function(){return ue.currentPath},chdir:function(e){var t=ue.lookupPath(e,{follow:!0});if(null===t.node)throw new ue.ErrnoError(44);if(!ue.isDir(t.node.mode))throw new ue.ErrnoError(54);var n=ue.nodePermissions(t.node,"x");if(n)throw new ue.ErrnoError(n);ue.currentPath=t.path},createDefaultDirectories:function(){ue.mkdir("/tmp"),ue.mkdir("/home"),ue.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(ue.mkdir("/dev"),ue.registerDevice(ue.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,o){return r}}),ue.mkdev("/dev/null",ue.makedev(1,3)),ie.register(ue.makedev(5,0),ie.default_tty_ops),ie.register(ue.makedev(6,0),ie.default_tty1_ops),ue.mkdev("/dev/tty",ue.makedev(5,0)),ue.mkdev("/dev/tty1",ue.makedev(6,0)),"object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}e||(e=function(){V("random_device")}),ue.createDevice("/dev","random",e),ue.createDevice("/dev","urandom",e),ue.mkdir("/dev/shm"),ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ue.mkdir("/proc"),ue.mkdir("/proc/self"),ue.mkdir("/proc/self/fd"),ue.mount({mount:function(){var e=ue.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=ue.getStream(n);if(!r)throw new ue.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},e}},{},"/proc/self/fd")},createStandardStreams:function(){t.stdin?ue.createDevice("/dev","stdin",t.stdin):ue.symlink("/dev/tty","/dev/stdin"),t.stdout?ue.createDevice("/dev","stdout",null,t.stdout):ue.symlink("/dev/tty","/dev/stdout"),t.stderr?ue.createDevice("/dev","stderr",null,t.stderr):ue.symlink("/dev/tty1","/dev/stderr");ue.open("/dev/stdin","r"),ue.open("/dev/stdout","w"),ue.open("/dev/stderr","w")},ensureErrnoError:function(){ue.ErrnoError||(ue.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ue.ErrnoError.prototype=new Error,ue.ErrnoError.prototype.constructor=ue.ErrnoError,[44].forEach((function(e){ue.genericErrors[e]=new ue.ErrnoError(e),ue.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){ue.ensureErrnoError(),ue.nameTable=new Array(4096),ue.mount(se,{},"/"),ue.createDefaultDirectories(),ue.createDefaultDevices(),ue.createSpecialDirectories(),ue.filesystems={MEMFS:se}},init:function(e,n,r){ue.init.initialized=!0,ue.ensureErrnoError(),t.stdin=e||t.stdin,t.stdout=n||t.stdout,t.stderr=r||t.stderr,ue.createStandardStreams()},quit:function(){ue.init.initialized=!1;var e=t._fflush;e&&e(0);for(var n=0;n<ue.streams.length;n++){var r=ue.streams[n];r&&ue.close(r)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=oe.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return ae.resolve(t,e)},standardizePath:function(e){return oe.normalize(e)},findObject:function(e,t){var n=ue.analyzePath(e,t);return n.exists?n.object:(ne(n.error),null)},analyzePath:function(e,t){try{e=(r=ue.lookupPath(e,{follow:!t})).path}catch(o){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=ue.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=oe.basename(e),r=ue.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(o){n.error=o.errno}return n},createFolder:function(e,t,n,r){var o=oe.join2("string"===typeof e?e:ue.getPath(e),t),a=ue.getMode(n,r);return ue.mkdir(o,a)},createPath:function(e,t,n,r){e="string"===typeof e?e:ue.getPath(e);for(var o=t.split("/").reverse();o.length;){var a=o.pop();if(a){var i=oe.join2(e,a);try{ue.mkdir(i)}catch(s){}e=i}}return i},createFile:function(e,t,n,r,o){var a=oe.join2("string"===typeof e?e:ue.getPath(e),t),i=ue.getMode(r,o);return ue.create(a,i)},createDataFile:function(e,t,n,r,o,a){var i=t?oe.join2("string"===typeof e?e:ue.getPath(e),t):e,s=ue.getMode(r,o),u=ue.create(i,s);if(n){if("string"===typeof n){for(var c=new Array(n.length),l=0,d=n.length;l<d;++l)c[l]=n.charCodeAt(l);n=c}ue.chmod(u,146|s);var f=ue.open(u,"w");ue.write(f,n,0,n.length,0,a),ue.close(f),ue.chmod(u,s)}return u},createDevice:function(e,t,n,r){var o=oe.join2("string"===typeof e?e:ue.getPath(e),t),a=ue.getMode(!!n,!!r);ue.createDevice.major||(ue.createDevice.major=64);var i=ue.makedev(ue.createDevice.major++,0);return ue.registerDevice(i,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,o,a){for(var i=0,s=0;s<o;s++){var u;try{u=n()}catch(c){throw new ue.ErrnoError(29)}if(void 0===u&&0===i)throw new ue.ErrnoError(6);if(null===u||void 0===u)break;i++,t[r+s]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,o,a){for(var i=0;i<o;i++)try{r(t[n+i])}catch(s){throw new ue.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),ue.mkdev(o,a,i)},createLink:function(e,t,n,r,o){var a=oe.join2("string"===typeof e?e:ue.getPath(e),t);return ue.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ee(i(e.url),!0),e.usedBytes=e.contents.length}catch(n){t=!1}return t||ne(29),t},createLazyFile:function(e,t,n,r,o){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,i=1048576;o||(i=r);var s=this;s.setDataGetter((function(e){var t=e*i,o=(e+1)*i-1;if(o=Math.min(o,r-1),"undefined"===typeof s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==i&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):Ee(o.responseText||"",!0)}(t,o)),"undefined"===typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!a&&r||(i=r=1,r=this.getter(0).length,i=r,d("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=i,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i={isDevice:!1,url:n},s=ue.createFile(e,t,i,r,o);i.contents?s.contents=i.contents:i.url&&(s.contents=null,s.url=i.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var u={};return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];u[e]=function(){if(!ue.forceLoadFile(s))throw new ue.ErrnoError(29);return t.apply(null,arguments)}})),u.read=function(e,t,n,r,o){if(!ue.forceLoadFile(s))throw new ue.ErrnoError(29);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,r);if(a.slice)for(var u=0;u<i;u++)t[n+u]=a[o+u];else for(u=0;u<i;u++)t[n+u]=a.get(o+u);return i},s.stream_ops=u,s},createPreloadedFile:function(e,n,r,o,a,i,s,u,c,l){le.init();var d=n?ae.resolve(oe.join2(e,n)):e;function f(r){function f(t){l&&l(),u||ue.createDataFile(e,n,t,o,a,c),i&&i(),H()}var m=!1;t.preloadPlugins.forEach((function(e){m||e.canHandle(d)&&(e.handle(r,d,f,(function(){s&&s(),H()})),m=!0)})),m||f(r)}Y(),"string"==typeof r?le.asyncLoad(r,(function(e){f(e)}),s):f(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=ue.indexedDB();try{var o=r.open(ue.DB_NAME(),ue.DB_VERSION)}catch(a){return n(a)}o.onupgradeneeded=function(){d("creating db"),o.result.createObjectStore(ue.DB_STORE_NAME)},o.onsuccess=function(){var r=o.result.transaction([ue.DB_STORE_NAME],"readwrite"),a=r.objectStore(ue.DB_STORE_NAME),i=0,s=0,u=e.length;function c(){0==s?t():n()}e.forEach((function(e){var t=a.put(ue.analyzePath(e).object.contents,e);t.onsuccess=function(){++i+s==u&&c()},t.onerror=function(){s++,i+s==u&&c()}})),r.onerror=n},o.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=ue.indexedDB();try{var o=r.open(ue.DB_NAME(),ue.DB_VERSION)}catch(a){return n(a)}o.onupgradeneeded=n,o.onsuccess=function(){var r=o.result;try{var i=r.transaction([ue.DB_STORE_NAME],"readonly")}catch(a){return void n(a)}var s=i.objectStore(ue.DB_STORE_NAME),u=0,c=0,l=e.length;function d(){0==c?t():n()}e.forEach((function(e){var t=s.get(e);t.onsuccess=function(){ue.analyzePath(e).exists&&ue.unlink(e),ue.createDataFile(oe.dirname(e),oe.basename(e),t.result,!0,!0,!0),++u+c==l&&d()},t.onerror=function(){c++,u+c==l&&d()}})),i.onerror=n},o.onerror=n},mmapAlloc:function(e){for(var t=function(e,t){return t||(t=16),Math.ceil(e/t)*t}(e,16384),n=Le(t);e<t;)S[n+e++]=0;return n}};function ce(e,t){if(le.mainLoop.timingMode=e,le.mainLoop.timingValue=t,!le.mainLoop.func)return 1;if(0==e)le.mainLoop.scheduler=function(){var e=0|Math.max(0,le.mainLoop.tickStartTime+t-re());setTimeout(le.mainLoop.runner,e)},le.mainLoop.method="timeout";else if(1==e)le.mainLoop.scheduler=function(){le.requestAnimationFrame(le.mainLoop.runner)},le.mainLoop.method="rAF";else if(2==e){if("undefined"===typeof setImmediate){var n=[],r="setimmediate";addEventListener("message",(function(e){e.data!==r&&e.data.target!==r||(e.stopPropagation(),n.shift()())}),!0),setImmediate=function(e){n.push(e),postMessage(r,"*")}}le.mainLoop.scheduler=function(){setImmediate(le.mainLoop.runner)},le.mainLoop.method="immediate"}return 0}re=function(){return performance.now()};var le={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){le.mainLoop.scheduler=null,le.mainLoop.currentlyRunningMainloop++},resume:function(){le.mainLoop.currentlyRunningMainloop++;var e=le.mainLoop.timingMode,t=le.mainLoop.timingValue,n=le.mainLoop.func;le.mainLoop.func=null,function(e,t,n,r,o){!0,g(!le.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),le.mainLoop.func=e,le.mainLoop.arg=r;var a=le.mainLoop.currentlyRunningMainloop;if(le.mainLoop.runner=function(){if(!w)if(le.mainLoop.queue.length>0){var t=Date.now(),n=le.mainLoop.queue.shift();if(n.func(n.arg),le.mainLoop.remainingBlockers){var r=le.mainLoop.remainingBlockers,o=r%1==0?r-1:Math.floor(r);n.counted?le.mainLoop.remainingBlockers=o:(o+=.5,le.mainLoop.remainingBlockers=(8*r+o)/9)}if(console.log('main loop blocker "'+n.name+'" took '+(Date.now()-t)+" ms"),le.mainLoop.updateStatus(),a<le.mainLoop.currentlyRunningMainloop)return;setTimeout(le.mainLoop.runner,0)}else a<le.mainLoop.currentlyRunningMainloop||(le.mainLoop.currentFrameNumber=le.mainLoop.currentFrameNumber+1|0,1==le.mainLoop.timingMode&&le.mainLoop.timingValue>1&&le.mainLoop.currentFrameNumber%le.mainLoop.timingValue!=0?le.mainLoop.scheduler():(0==le.mainLoop.timingMode&&(le.mainLoop.tickStartTime=re()),le.mainLoop.runIter(e),a<le.mainLoop.currentlyRunningMainloop||("object"===typeof fe&&fe.audio&&fe.audio.queueNewAudioData&&fe.audio.queueNewAudioData(),le.mainLoop.scheduler())))},o||(t&&t>0?ce(0,1e3/t):ce(1,1),le.mainLoop.scheduler()),n)throw"unwind"}(n,0,!1,le.mainLoop.arg,!0),ce(e,t),le.mainLoop.scheduler()},updateStatus:function(){if(t.setStatus){var e=t.statusMessage||"Please wait...",n=le.mainLoop.remainingBlockers,r=le.mainLoop.expectedBlockers;n?n<r?t.setStatus(e+" ("+(r-n)+"/"+r+")"):t.setStatus(e):t.setStatus("")}},runIter:function(e){if(!w){if(t.preMainLoop)if(!1===t.preMainLoop())return;try{e()}catch(n){if(n instanceof Pe)return;if("unwind"==n)return;throw n&&"object"===typeof n&&n.stack&&f("exception thrown: "+[n,n.stack]),n}t.postMainLoop&&t.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(t.preloadPlugins||(t.preloadPlugins=[]),!le.initted){le.initted=!0;try{new Blob,le.hasBlobConstructor=!0}catch(a){le.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}le.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:le.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),le.URLObject=window.URL?window.URL:window.webkitURL,t.noImageDecoding||"undefined"!==typeof le.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),t.noImageDecoding=!0);var e={canHandle:function(e){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,n,r,o){var i=null;if(le.hasBlobConstructor)try{(i=new Blob([e],{type:le.getMimetype(n)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:le.getMimetype(n)}))}catch(a){h("Blob constructor present but fails: "+a+"; falling back to blob builder")}if(!i){var s=new le.BlobBuilder;s.append(new Uint8Array(e).buffer),i=s.getBlob()}var u=le.URLObject.createObjectURL(i),c=new Image;c.onload=function(){g(c.complete,"Image "+n+" could not be decoded");var o=document.createElement("canvas");o.width=c.width,o.height=c.height,o.getContext("2d").drawImage(c,0,0),t.preloadedImages[n]=o,le.URLObject.revokeObjectURL(u),r&&r(e)},c.onerror=function(e){console.log("Image "+u+" could not be decoded"),o&&o()},c.src=u}};t.preloadPlugins.push(e);var n={canHandle:function(e){return!t.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,n,r,o){var i=!1;function s(o){i||(i=!0,t.preloadedAudios[n]=o,r&&r(e))}function u(){i||(i=!0,t.preloadedAudios[n]=new Audio,o&&o())}if(!le.hasBlobConstructor)return u();try{var c=new Blob([e],{type:le.getMimetype(n)})}catch(a){return u()}var l=le.URLObject.createObjectURL(c),d=new Audio;d.addEventListener("canplaythrough",(function(){s(d)}),!1),d.onerror=function(t){i||(console.log("warning: browser could not fully decode audio "+n+", trying slower base64 approach"),d.src="data:audio/x-"+n.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,o=0,a=0;a<e.length;a++)for(r=r<<8|e[a],o+=8;o>=6;){var i=r>>o-6&63;o-=6,n+=t[i]}return 2==o?(n+=t[(3&r)<<4],n+="=="):4==o&&(n+=t[(15&r)<<2],n+="="),n}(e),s(d))},d.src=l,le.safeSetTimeout((function(){s(d)}),1e4)}};t.preloadPlugins.push(n);var r=t.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",o,!1),document.addEventListener("mozpointerlockchange",o,!1),document.addEventListener("webkitpointerlockchange",o,!1),document.addEventListener("mspointerlockchange",o,!1),t.elementPointerLock&&r.addEventListener("click",(function(e){!le.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),e.preventDefault())}),!1))}function o(){le.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}},createContext:function(e,n,r,o){if(n&&t.ctx&&e==t.canvas)return t.ctx;var a,i;if(n){var s={antialias:!1,alpha:!1,majorVersion:1};if(o)for(var u in o)s[u]=o[u];"undefined"!==typeof me&&(i=me.createContext(e,s))&&(a=me.getContext(i).GLctx)}else a=e.getContext("2d");return a?(r&&(n||g("undefined"===typeof ve,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),t.ctx=a,n&&me.makeContextCurrent(i),t.useWebGL=n,le.moduleContextCreatedCallbacks.forEach((function(e){e()})),le.init()),a):null},destroyContext:function(e,t,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,n){le.lockPointer=e,le.resizeCanvas=n,"undefined"===typeof le.lockPointer&&(le.lockPointer=!0),"undefined"===typeof le.resizeCanvas&&(le.resizeCanvas=!1);var r=t.canvas;function o(){le.isFullscreen=!1;var e=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.exitFullscreen=le.exitFullscreen,le.lockPointer&&r.requestPointerLock(),le.isFullscreen=!0,le.resizeCanvas?le.setFullscreenCanvasSize():le.updateCanvasDimensions(r)):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),le.resizeCanvas?le.setWindowedCanvasSize():le.updateCanvasDimensions(r)),t.onFullScreen&&t.onFullScreen(le.isFullscreen),t.onFullscreen&&t.onFullscreen(le.isFullscreen)}le.fullscreenHandlersInstalled||(le.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var a=document.createElement("div");r.parentNode.insertBefore(a,r),a.appendChild(r),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?function(){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),a.requestFullscreen()},exitFullscreen:function(){return!!le.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===le.nextRAF)le.nextRAF=t+1e3/60;else for(;t+2>=le.nextRAF;)le.nextRAF+=1e3/60;var n=Math.max(le.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){"function"!==typeof requestAnimationFrame?(0,le.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)})),safeCallback:function(e){return function(){if(!w)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){le.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(le.allowAsyncCallbacks=!0,le.queuedAsyncCallbacks.length>0){var e=le.queuedAsyncCallbacks;le.queuedAsyncCallbacks=[],e.forEach((function(e){e()}))}},safeRequestAnimationFrame:function(e){return le.requestAnimationFrame((function(){w||(le.allowAsyncCallbacks?e():le.queuedAsyncCallbacks.push(e))}))},safeSetTimeout:function(e,t){return!0,setTimeout((function(){w||(le.allowAsyncCallbacks?e():le.queuedAsyncCallbacks.push(e))}),t)},safeSetInterval:function(e,t){return!0,setInterval((function(){w||le.allowAsyncCallbacks&&e()}),t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(le.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?le.mouseMovementX=le.mouseMovementY=0:(le.mouseMovementX=le.getMovementX(e),le.mouseMovementY=le.getMovementY(e)),"undefined"!=typeof fe?(le.mouseX=fe.mouseX+le.mouseMovementX,le.mouseY=fe.mouseY+le.mouseMovementY):(le.mouseX+=le.mouseMovementX,le.mouseY+=le.mouseMovementY);else{var n=t.canvas.getBoundingClientRect(),r=t.canvas.width,o=t.canvas.height,a="undefined"!==typeof window.scrollX?window.scrollX:window.pageXOffset,i="undefined"!==typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var s=e.touch;if(void 0===s)return;var u=s.pageX-(a+n.left),c=s.pageY-(i+n.top),l={x:u*=r/n.width,y:c*=o/n.height};if("touchstart"===e.type)le.lastTouches[s.identifier]=l,le.touches[s.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var d=le.touches[s.identifier];d||(d=l),le.lastTouches[s.identifier]=d,le.touches[s.identifier]=l}return}var f=e.pageX-(a+n.left),m=e.pageY-(i+n.top);f*=r/n.width,m*=o/n.height,le.mouseMovementX=f-le.mouseX,le.mouseMovementY=m-le.mouseY,le.mouseX=f,le.mouseY=m}},asyncLoad:function(e,t,n,r){var o=r?"":"al "+e;s(e,(function(n){g(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),o&&H()}),(function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()})),o&&Y()},resizeListeners:[],updateResizeListeners:function(){var e=t.canvas;le.resizeListeners.forEach((function(t){t(e.width,e.height)}))},setCanvasSize:function(e,n,r){var o=t.canvas;le.updateCanvasDimensions(o,e,n),r||le.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof fe){var e=F[fe.screen>>2];e|=8388608,C[fe.screen>>2]=e}le.updateCanvasDimensions(t.canvas),le.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof fe){var e=F[fe.screen>>2];e&=-8388609,C[fe.screen>>2]=e}le.updateCanvasDimensions(t.canvas),le.updateResizeListeners()},updateCanvasDimensions:function(e,n,r){n&&r?(e.widthNative=n,e.heightNative=r):(n=e.widthNative,r=e.heightNative);var o=n,a=r;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(o/a<t.forcedAspectRatio?o=Math.round(a*t.forcedAspectRatio):a=Math.round(o/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var i=Math.min(screen.width/o,screen.height/a);o=Math.round(o*i),a=Math.round(a*i)}le.resizeCanvas?(e.width!=o&&(e.width=o),e.height!=a&&(e.height=a),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=n&&(e.width=n),e.height!=r&&(e.height=r),"undefined"!=typeof e.style&&(o!=n||a!=r?(e.style.setProperty("width",o+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=le.nextWgetRequestHandle;return le.nextWgetRequestHandle++,e}};function de(e){var n=fe.surfaces[e];if(n.locked++,n.locked>1)return 0;if(n.buffer||(n.buffer=Le(n.width*n.height*4),C[e+20>>2]=n.buffer),C[e+20>>2]=n.buffer,e==fe.screen&&t.screenIsReadOnly&&n.image)return 0;if(fe.defaults.discardOnLock){if(n.image||(n.image=n.ctx.createImageData(n.width,n.height)),!fe.defaults.opaqueFrontBuffer)return}else n.image=n.ctx.getImageData(0,0,n.width,n.height);if(e==fe.screen&&fe.defaults.opaqueFrontBuffer)for(var r=n.image.data,o=r.length,a=0;a<o/4;a++)r[4*a+3]=255;if(fe.defaults.copyOnLock&&!fe.defaults.discardOnLock){if(n.isFlagSet(2097152))throw"CopyOnLock is not supported for SDL_LockSurface with SDL_HWPALETTE flag set"+(new Error).stack;A.set(n.image.data,n.buffer)}return 0}var fe={defaults:{width:320,height:200,copyOnLock:!0,discardOnLock:!1,opaqueFrontBuffer:!0},version:null,surfaces:{},canvasPool:[],events:[],fonts:[null],audios:[null],rwops:[null],music:{audio:null,volume:1},mixerFrequency:22050,mixerFormat:32784,mixerNumChannels:2,mixerChunkSize:1024,channelMinimumNumber:0,GL:!1,glAttributes:{0:3,1:3,2:2,3:0,4:0,5:1,6:16,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:1,16:0,17:0,18:0},keyboardState:null,keyboardMap:{},canRequestFullscreen:!1,isRequestingFullscreen:!1,textInput:!1,startTime:null,initFlags:0,buttonState:0,modState:0,DOMButtons:[0,0,0],DOMEventToSDLEvent:{},TOUCH_DEFAULT_ID:0,eventHandler:null,eventHandlerContext:null,eventHandlerTemp:0,keyCodes:{16:1249,17:1248,18:1250,20:1081,33:1099,34:1102,35:1101,36:1098,37:1104,38:1106,39:1103,40:1105,44:316,45:1097,46:127,91:1251,93:1125,96:1122,97:1113,98:1114,99:1115,100:1116,101:1117,102:1118,103:1119,104:1120,105:1121,106:1109,107:1111,109:1110,110:1123,111:1108,112:1082,113:1083,114:1084,115:1085,116:1086,117:1087,118:1088,119:1089,120:1090,121:1091,122:1092,123:1093,124:1128,125:1129,126:1130,127:1131,128:1132,129:1133,130:1134,131:1135,132:1136,133:1137,134:1138,135:1139,144:1107,160:94,161:33,162:34,163:35,164:36,165:37,166:38,167:95,168:40,169:41,170:42,171:43,172:124,173:45,174:123,175:125,176:126,181:127,182:129,183:128,188:44,190:46,191:47,192:96,219:91,220:92,221:93,222:39,224:1251},scanCodes:{8:42,9:43,13:40,27:41,32:44,35:204,39:53,44:54,46:55,47:56,48:39,49:30,50:31,51:32,52:33,53:34,54:35,55:36,56:37,57:38,58:203,59:51,61:46,91:47,92:49,93:48,96:52,97:4,98:5,99:6,100:7,101:8,102:9,103:10,104:11,105:12,106:13,107:14,108:15,109:16,110:17,111:18,112:19,113:20,114:21,115:22,116:23,117:24,118:25,119:26,120:27,121:28,122:29,127:76,305:224,308:226,316:70},loadRect:function(e){return{x:C[e+0>>2],y:C[e+4>>2],w:C[e+8>>2],h:C[e+12>>2]}},updateRect:function(e,t){C[e>>2]=t.x,C[e+4>>2]=t.y,C[e+8>>2]=t.w,C[e+12>>2]=t.h},intersectionOfRects:function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),o=Math.min(e.x+e.w,t.x+t.w),a=Math.min(e.y+e.h,t.y+t.h);return{x:n,y:r,w:Math.max(n,o)-n,h:Math.max(r,a)-r}},checkPixelFormat:function(e){},loadColorToCSSRGB:function(e){var t=C[e>>2];return"rgb("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+")"},loadColorToCSSRGBA:function(e){var t=C[e>>2];return"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+(t>>24&255)/255+")"},translateColorToCSSRGBA:function(e){return"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>>24)/255+")"},translateRGBAToCSSRGBA:function(e,t,n,r){return"rgba("+(255&e)+","+(255&t)+","+(255&n)+","+(255&r)/255+")"},translateRGBAToColor:function(e,t,n,r){return e|t<<8|n<<16|r<<24},makeSurface:function(e,n,r,o,a,i,s,u,c){var l,d=1&(r=r||0),f=2097152&r,m=67108864&r,p=Le(60),h=Le(44),v=f?1:4,w=0;d||m||(w=Le(e*n*4)),C[p>>2]=r,C[p+4>>2]=h,C[p+8>>2]=e,C[p+12>>2]=n,C[p+16>>2]=e*v,C[p+20>>2]=w,C[p+36>>2]=0,C[p+40>>2]=0,C[p+44>>2]=t.canvas.width,C[p+48>>2]=t.canvas.height,C[p+56>>2]=1,C[h>>2]=-2042224636,C[h+4>>2]=0,S[h+8>>0]=8*v,S[h+9>>0]=v,C[h+12>>2]=i||255,C[h+16>>2]=s||65280,C[h+20>>2]=u||16711680,C[h+24>>2]=c||4278190080,fe.GL=fe.GL||m,o?l=t.canvas:((l=fe.canvasPool.length>0?fe.canvasPool.pop():document.createElement("canvas")).width=e,l.height=n);var g={antialias:0!=fe.glAttributes[13]&&fe.glAttributes[14]>1,depth:fe.glAttributes[6]>0,stencil:fe.glAttributes[7]>0,alpha:fe.glAttributes[3]>0},y=le.createContext(l,m,o,g);return fe.surfaces[p]={width:e,height:n,canvas:l,ctx:y,surf:p,buffer:w,pixelFormat:h,alpha:255,flags:r,locked:0,usePageCanvas:o,source:a,isFlagSet:function(e){return r&e}},p},copyIndexedColorData:function(e,n,r,o,a){if(e.colors){var i=t.canvas.width,s=t.canvas.height,u=n||0,c=r||0,l=(o||i-u)+u,d=(a||s-c)+c,f=e.buffer;e.image.data32||(e.image.data32=new Uint32Array(e.image.data.buffer));for(var m=e.image.data32,p=e.colors32,h=c;h<d;++h)for(var v=h*i,w=u;w<l;++w)m[v+w]=p[A[f+v+w>>0]]}},freeSurface:function(e){var t=e+56,n=C[t>>2];if(n>1)C[t>>2]=n-1;else{var r=fe.surfaces[e];!r.usePageCanvas&&r.canvas&&fe.canvasPool.push(r.canvas),r.buffer&&Se(r.buffer),Se(r.pixelFormat),Se(e),fe.surfaces[e]=null,e===fe.screen&&(fe.screen=null)}},blitSurface:function(e,t,n,r,o){var a,i,s,u,c=fe.surfaces[e],l=fe.surfaces[n];if(a=t?fe.loadRect(t):{x:0,y:0,w:c.width,h:c.height},i=r?fe.loadRect(r):{x:0,y:0,w:c.width,h:c.height},l.clipRect){var d=o&&0!==a.w?a.w/i.w:1,f=o&&0!==a.h?a.h/i.h:1;i=fe.intersectionOfRects(l.clipRect,i),a.w=i.w*d,a.h=i.h*f,r&&fe.updateRect(r,i)}if(o?(s=i.w,u=i.h):(s=a.w,u=a.h),0===a.w||0===a.h||0===s||0===u)return 0;var m=l.ctx.globalAlpha;return l.ctx.globalAlpha=c.alpha/255,l.ctx.drawImage(c.canvas,a.x,a.y,a.w,a.h,i.x,i.y,s,u),l.ctx.globalAlpha=m,n!=fe.screen&&(h("WARNING: copying canvas data to memory for compatibility"),de(n),l.locked--),0},downFingers:{},savedKeydown:null,receiveEvent:function(e){function n(){for(var e in fe.keyboardMap)fe.events.push({type:"keyup",keyCode:fe.keyboardMap[e]})}switch(e.type){case"touchstart":case"touchmove":e.preventDefault();var r=[];if("touchstart"===e.type)for(var o=0;o<e.touches.length;o++){var a=e.touches[o];1!=fe.downFingers[a.identifier]&&(fe.downFingers[a.identifier]=!0,r.push(a))}else r=e.touches;var i=r[0];if(i){var s;switch("touchstart"==e.type&&(fe.DOMButtons[0]=1),e.type){case"touchstart":s="mousedown";break;case"touchmove":s="mousemove"}var u={type:s,button:0,pageX:i.clientX,pageY:i.clientY};fe.events.push(u)}for(o=0;o<r.length;o++){a=r[o];fe.events.push({type:e.type,touch:a})}break;case"touchend":e.preventDefault();for(o=0;o<e.changedTouches.length;o++){a=e.changedTouches[o];!0===fe.downFingers[a.identifier]&&delete fe.downFingers[a.identifier]}u={type:"mouseup",button:0,pageX:e.changedTouches[0].clientX,pageY:e.changedTouches[0].clientY};fe.DOMButtons[0]=0,fe.events.push(u);for(o=0;o<e.changedTouches.length;o++){a=e.changedTouches[o];fe.events.push({type:"touchend",touch:a})}break;case"DOMMouseScroll":case"mousewheel":case"wheel":var c=-le.getMouseWheelDelta(e),l=(c=0==c?0:c>0?Math.max(c,1):Math.min(c,-1))>0?3:4;fe.events.push({type:"mousedown",button:l,pageX:e.pageX,pageY:e.pageY}),fe.events.push({type:"mouseup",button:l,pageX:e.pageX,pageY:e.pageY}),fe.events.push({type:"wheel",deltaX:0,deltaY:c}),e.preventDefault();break;case"mousemove":if(1===fe.DOMButtons[0]&&fe.events.push({type:"touchmove",touch:{identifier:0,deviceID:-1,pageX:e.pageX,pageY:e.pageY}}),le.pointerLock&&("mozMovementX"in e&&(e.movementX=e.mozMovementX,e.movementY=e.mozMovementY),0==e.movementX&&0==e.movementY))return void e.preventDefault();case"keydown":case"keyup":case"keypress":case"mousedown":case"mouseup":if("keydown"===e.type&&(fe.unicode||fe.textInput)&&8!==e.keyCode&&9!==e.keyCode||e.preventDefault(),"mousedown"==e.type)fe.DOMButtons[e.button]=1,fe.events.push({type:"touchstart",touch:{identifier:0,deviceID:-1,pageX:e.pageX,pageY:e.pageY}});else if("mouseup"==e.type){if(!fe.DOMButtons[e.button])return;fe.events.push({type:"touchend",touch:{identifier:0,deviceID:-1,pageX:e.pageX,pageY:e.pageY}}),fe.DOMButtons[e.button]=0}"keydown"===e.type||"mousedown"===e.type?fe.canRequestFullscreen=!0:"keyup"!==e.type&&"mouseup"!==e.type||(fe.isRequestingFullscreen&&(t.requestFullscreen(!0,!0),fe.isRequestingFullscreen=!1),fe.canRequestFullscreen=!1),"keypress"===e.type&&fe.savedKeydown?(fe.savedKeydown.keypressCharCode=e.charCode,fe.savedKeydown=null):"keydown"===e.type&&(fe.savedKeydown=e),("keypress"!==e.type||fe.textInput)&&fe.events.push(e);break;case"mouseout":for(o=0;o<3;o++)fe.DOMButtons[o]&&(fe.events.push({type:"mouseup",button:o,pageX:e.pageX,pageY:e.pageY}),fe.DOMButtons[o]=0);e.preventDefault();break;case"focus":fe.events.push(e),e.preventDefault();break;case"blur":fe.events.push(e),n(),e.preventDefault();break;case"visibilitychange":fe.events.push({type:"visibilitychange",visible:!document.hidden}),n(),e.preventDefault();break;case"unload":return void(le.mainLoop.runner&&(fe.events.push(e),le.mainLoop.runner()));case"resize":fe.events.push(e),e.preventDefault&&e.preventDefault()}fe.events.length>=1e4&&(f("SDL event queue full, dropping events"),fe.events=fe.events.slice(0,1e4)),fe.flushEventsToHandler()},lookupKeyCodeForEvent:function(e){var t=e.keyCode;return t>=65&&t<=90?t+=32:(t=fe.keyCodes[e.keyCode]||e.keyCode,2===e.location&&t>=1248&&t<=1251&&(t+=4)),t},handleEvent:function(e){if(!e.handled)switch(e.handled=!0,e.type){case"touchstart":case"touchend":case"touchmove":le.calculateMouseEvent(e);break;case"keydown":case"keyup":var t="keydown"===e.type,n=fe.lookupKeyCodeForEvent(e);S[fe.keyboardState+n>>0]=t,fe.modState=(S[fe.keyboardState+1248>>0]?64:0)|(S[fe.keyboardState+1249>>0]?1:0)|(S[fe.keyboardState+1250>>0]?256:0)|(S[fe.keyboardState+1252>>0]?128:0)|(S[fe.keyboardState+1253>>0]?2:0)|(S[fe.keyboardState+1254>>0]?512:0),t?fe.keyboardMap[n]=e.keyCode:delete fe.keyboardMap[n];break;case"mousedown":case"mouseup":"mousedown"==e.type?fe.buttonState|=1<<e.button:"mouseup"==e.type&&(fe.buttonState&=~(1<<e.button));case"mousemove":le.calculateMouseEvent(e)}},flushEventsToHandler:function(){if(fe.eventHandler)for(;fe.pollEvent(fe.eventHandlerTemp);)v.get(fe.eventHandler)(fe.eventHandlerContext,fe.eventHandlerTemp)},pollEvent:function(e){if(512&fe.initFlags&&fe.joystickEventState&&fe.queryJoysticks(),e){for(;fe.events.length>0;)if(!1!==fe.makeCEvent(fe.events.shift(),e))return 1;return 0}return fe.events.length>0},makeCEvent:function(e,n){if("number"===typeof e)return De(n,e,28),void Se(e);switch(fe.handleEvent(e),e.type){case"keydown":case"keyup":var r,o="keydown"===e.type,a=fe.lookupKeyCodeForEvent(e);r=a>=1024?a-1024:fe.scanCodes[a]||a,C[n>>2]=fe.DOMEventToSDLEvent[e.type],S[n+8>>0]=o?1:0,S[n+9>>0]=0,C[n+12>>2]=r,C[n+16>>2]=a,M[n+20>>1]=fe.modState,C[n+24>>2]=e.keypressCharCode||a;break;case"keypress":C[n>>2]=fe.DOMEventToSDLEvent[e.type];for(var i=Ee(String.fromCharCode(e.charCode)),s=0;s<i.length;++s)S[n+(8+s)>>0]=i[s];break;case"mousedown":case"mouseup":case"mousemove":if("mousemove"!=e.type){o="mousedown"===e.type;C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=0,C[n+8>>2]=0,C[n+12>>2]=0,S[n+16>>0]=e.button+1,S[n+17>>0]=o?1:0,C[n+20>>2]=le.mouseX,C[n+24>>2]=le.mouseY}else C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=0,C[n+8>>2]=0,C[n+12>>2]=0,C[n+16>>2]=fe.buttonState,C[n+20>>2]=le.mouseX,C[n+24>>2]=le.mouseY,C[n+28>>2]=le.mouseMovementX,C[n+32>>2]=le.mouseMovementY;break;case"wheel":C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+16>>2]=e.deltaX,C[n+20>>2]=e.deltaY;break;case"touchstart":case"touchend":case"touchmove":var u=e.touch;if(!le.touches[u.identifier])break;var c=t.canvas.width,l=t.canvas.height,d=le.touches[u.identifier].x/c,f=le.touches[u.identifier].y/l,m=d-le.lastTouches[u.identifier].x/c,p=f-le.lastTouches[u.identifier].y/l;if(void 0===u.deviceID&&(u.deviceID=fe.TOUCH_DEFAULT_ID),0===m&&0===p&&"touchmove"===e.type)return!1;C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=Date.now()-fe.startTime|0,Q=[u.deviceID>>>0,(J=u.deviceID,+I(J)>=1?J>0?(0|X(+q(J/4294967296),4294967295))>>>0:~~+j((J-+(~~J>>>0))/4294967296)>>>0:0)],C[n+8>>2]=Q[0],C[n+12>>2]=Q[1],Q=[u.identifier>>>0,(J=u.identifier,+I(J)>=1?J>0?(0|X(+q(J/4294967296),4294967295))>>>0:~~+j((J-+(~~J>>>0))/4294967296)>>>0:0)],C[n+16>>2]=Q[0],C[n+20>>2]=Q[1],P[n+24>>2]=d,P[n+28>>2]=f,P[n+32>>2]=m,P[n+36>>2]=p,void 0!==u.force?P[n+40>>2]=u.force:P[n+40>>2]="touchend"==e.type?0:1;break;case"unload":C[n>>2]=fe.DOMEventToSDLEvent[e.type];break;case"resize":C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=e.w,C[n+8>>2]=e.h;break;case"joystick_button_up":case"joystick_button_down":var h="joystick_button_up"===e.type?0:1;C[n>>2]=fe.DOMEventToSDLEvent[e.type],S[n+4>>0]=e.index,S[n+5>>0]=e.button,S[n+6>>0]=h;break;case"joystick_axis_motion":C[n>>2]=fe.DOMEventToSDLEvent[e.type],S[n+4>>0]=e.index,S[n+5>>0]=e.axis,C[n+8>>2]=fe.joystickAxisValueConversion(e.value);break;case"focus":C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=0,S[n+8>>0]=12;break;case"blur":C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=0,S[n+8>>0]=13;break;case"visibilitychange":var v=e.visible?1:2;C[n>>2]=fe.DOMEventToSDLEvent[e.type],C[n+4>>2]=0,S[n+8>>0]=v;break;default:throw"Unhandled SDL event: "+e.type}},makeFontString:function(e,t){return"'"!=t.charAt(0)&&'"'!=t.charAt(0)&&(t='"'+t+'"'),e+"px "+t+", serif"},estimateTextWidth:function(e,t){var n=e.size,r=fe.makeFontString(n,e.name),o=fe.ttfContext;return o.font=r,0|o.measureText(t).width},allocateChannels:function(e){if(!(fe.numChannels&&fe.numChannels>=e&&0!=e)){fe.numChannels=e,fe.channels=[];for(var t=0;t<e;t++)fe.channels[t]={audio:null,volume:1}}},setGetVolume:function(e,t){if(!e)return 0;var n=128*e.volume;if(-1!=t&&(e.volume=Math.min(Math.max(t,0),128)/128,e.audio))try{e.audio.volume=e.volume,e.audio.webAudioGainNode&&(e.audio.webAudioGainNode.gain.value=e.volume)}catch(r){f("setGetVolume failed to set audio volume: "+r)}return n},setPannerPosition:function(e,t,n,r){e&&e.audio&&e.audio.webAudioPannerNode&&e.audio.webAudioPannerNode.setPosition(t,n,r)},playWebAudio:function(e){if(e&&!e.webAudioNode&&fe.webAudioAvailable())try{var t=e.resource.webAudio;if(e.paused=!1,!t.decodedBuffer)return void 0===t.onDecodeComplete&&V("Cannot play back audio object that was not loaded"),void t.onDecodeComplete.push((function(){e.paused||fe.playWebAudio(e)}));e.webAudioNode=fe.audioContext.createBufferSource(),e.webAudioNode.buffer=t.decodedBuffer,e.webAudioNode.loop=e.loop,e.webAudioNode.onended=function(){e.onended()},e.webAudioPannerNode=fe.audioContext.createPanner(),e.webAudioPannerNode.setPosition(0,0,-.5),e.webAudioPannerNode.panningModel="equalpower",e.webAudioGainNode=fe.audioContext.createGain(),e.webAudioGainNode.gain.value=e.volume,e.webAudioNode.connect(e.webAudioPannerNode),e.webAudioPannerNode.connect(e.webAudioGainNode),e.webAudioGainNode.connect(fe.audioContext.destination),e.webAudioNode.start(0,e.currentPosition),e.startTime=fe.audioContext.currentTime-e.currentPosition}catch(n){f("playWebAudio failed: "+n)}},pauseWebAudio:function(e){if(e){if(e.webAudioNode)try{e.currentPosition=(fe.audioContext.currentTime-e.startTime)%e.resource.webAudio.decodedBuffer.duration,e.webAudioNode.onended=void 0,e.webAudioNode.stop(0),e.webAudioNode=void 0}catch(t){f("pauseWebAudio failed: "+t)}e.paused=!0}},openAudioContext:function(){fe.audioContext||("undefined"!==typeof AudioContext?fe.audioContext=new AudioContext:"undefined"!==typeof webkitAudioContext&&(fe.audioContext=new webkitAudioContext))},webAudioAvailable:function(){return!!fe.audioContext},fillWebAudioBufferFromHeap:function(e,t,n){for(var r=fe.audio,o=r.channels,a=0;a<o;++a){var i=n.getChannelData(a);if(i.length!=t)throw"Web Audio output buffer length mismatch! Destination size: "+i.length+" samples vs expected "+t+" samples!";if(32784==r.format)for(var s=0;s<t;++s)i[s]=M[e+2*(s*o+a)>>1]/32768;else if(8==r.format)for(s=0;s<t;++s){var u=S[e+(s*o+a)>>0];i[s]=(u>=0?u-128:u+128)/128}else{if(33056!=r.format)throw"Invalid SDL audio format "+r.format+"!";for(s=0;s<t;++s)i[s]=P[e+4*(s*o+a)>>2]}}},debugSurface:function(e){console.log("dumping surface "+[e.surf,e.source,e.width,e.height]);for(var t=e.ctx.getImageData(0,0,e.width,e.height).data,n=Math.min(e.width,e.height),r=0;r<n;r++)console.log("   diagonal "+r+":"+[t[r*e.width*4+4*r+0],t[r*e.width*4+4*r+1],t[r*e.width*4+4*r+2],t[r*e.width*4+4*r+3]])},joystickEventState:1,lastJoystickState:{},joystickNamePool:{},recordJoystickState:function(e,t){for(var n=new Array(t.buttons.length),r=0;r<t.buttons.length;r++)n[r]=fe.getJoystickButtonState(t.buttons[r]);fe.lastJoystickState[e]={buttons:n,axes:t.axes.slice(0),timestamp:t.timestamp,index:t.index,id:t.id}},getJoystickButtonState:function(e){return"object"===typeof e?e.pressed:e>0},queryJoysticks:function(){for(var e in fe.lastJoystickState){var t=fe.getGamepad(e-1),n=fe.lastJoystickState[e];if("undefined"===typeof t)return;if(null===t)return;if("number"!==typeof t.timestamp||t.timestamp!==n.timestamp||!t.timestamp){var r;for(r=0;r<t.buttons.length;r++){var o=fe.getJoystickButtonState(t.buttons[r]);o!==n.buttons[r]&&fe.events.push({type:o?"joystick_button_down":"joystick_button_up",joystick:e,index:e-1,button:r})}for(r=0;r<t.axes.length;r++)t.axes[r]!==n.axes[r]&&fe.events.push({type:"joystick_axis_motion",joystick:e,index:e-1,axis:r,value:t.axes[r]});fe.recordJoystickState(e,t)}}},joystickAxisValueConversion:function(e){return e=Math.min(1,Math.max(e,-1)),Math.ceil(32767.5*(e+1)-32768)},getGamepads:function(){var e=navigator.getGamepads||navigator.webkitGamepads||navigator.mozGamepads||navigator.gamepads||navigator.webkitGetGamepads;return void 0!==e?e.apply(navigator):[]},getGamepad:function(e){var t=fe.getGamepads();return t.length>e&&e>=0?t[e]:null}};var me={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){me.lastError||(me.lastError=e)},getNewId:function(e){for(var t=me.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:function(e,t,n,r){for(var o="",a=0;a<t;++a){var i=r?C[r+4*a>>2]:-1;o+=_(C[n+4*a>>2],i<0?void 0:i)}return o},createContext:function(e,t){var n=e.getContext("webgl",t);return n?me.registerContext(n,t):0},registerContext:function(e,t){var n=me.getNewId(me.contexts),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),me.contexts[n]=r,("undefined"===typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&me.initExtensions(r),n},makeContextCurrent:function(e){return me.currentContext=me.contexts[e],t.ctx=ve=me.currentContext&&me.currentContext.GLctx,!(e&&!ve)},getContext:function(e){return me.contexts[e]},deleteContext:function(e){me.currentContext===me.contexts[e]&&(me.currentContext=null),"object"===typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(me.contexts[e].GLctx.canvas),me.contexts[e]&&me.contexts[e].GLctx.canvas&&(me.contexts[e].GLctx.canvas.GLctxObject=void 0),me.contexts[e]=null},initExtensions:function(e){if(e||(e=me.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,n=e.GLctx;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,o){t.drawArraysInstancedANGLE(e,n,r,o)},e.drawElementsInstanced=function(e,n,r,o,a){t.drawElementsInstancedANGLE(e,n,r,o,a)}}(n),function(e){var t=e.getExtension("OES_vertex_array_object");if(t)e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)}}(n),function(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)}}(n),n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query"),(t=n).multiDrawWebgl=t.getExtension("WEBGL_multi_draw");var r=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","EXT_texture_norm16","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2","WEBKIT_WEBGL_compressed_texture_pvrtc"];(n.getSupportedExtensions()||[]).forEach((function(e){-1!=r.indexOf(e)&&n.getExtension(e)}))}},populateUniformTable:function(e){for(var t=me.programs[e],n=me.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},r=n.uniforms,o=ve.getProgramParameter(t,35718),a=0;a<o;++a){var i=ve.getActiveUniform(t,a),s=i.name;n.maxUniformLength=Math.max(n.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("[")));var u=ve.getUniformLocation(t,s);if(u){var c=me.getNewId(me.uniforms);r[s]=[i.size,c],me.uniforms[c]=u;for(var l=1;l<i.size;++l){var d=s+"["+l+"]";u=ve.getUniformLocation(t,d),c=me.getNewId(me.uniforms),me.uniforms[c]=u}}}}};function pe(e){try{return p.grow(e-L.byteLength+65535>>>16),R(p.buffer),1}catch(t){}}var he={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=he.buffers[e];0===t||10===t?((1===e?d:f)(k(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return he.varargs+=4,C[he.varargs-4>>2]},getStr:function(e){return _(e)},get64:function(e,t){return e}};var ve,we=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ue.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},ge=365,ye=146;function Ee(e,t,n){var r=n>0?n:D(e)+1,o=new Array(r),a=x(e,o,0,o.length);return t&&(o.length=a),o}Object.defineProperties(we.prototype,{read:{get:function(){return(this.mode&ge)===ge},set:function(e){e?this.mode|=ge:this.mode&=-366}},write:{get:function(){return(this.mode&ye)===ye},set:function(e){e?this.mode|=ye:this.mode&=-147}},isFolder:{get:function(){return ue.isDir(this.mode)}},isDevice:{get:function(){return ue.isChrdev(this.mode)}}}),ue.FSNode=we,ue.staticInit(),t.requestFullscreen=function(e,t){le.requestFullscreen(e,t)},t.requestAnimationFrame=function(e){le.requestAnimationFrame(e)},t.setCanvasSize=function(e,t,n){le.setCanvasSize(e,t,n)},t.pauseMainLoop=function(){le.mainLoop.pause()},t.resumeMainLoop=function(){le.mainLoop.resume()},t.getUserMedia=function(){le.getUserMedia()},t.createContext=function(e,t,n,r){return le.createContext(e,t,n,r)};var be,ke={i:function(e,t,n,r,o,a,i,s){return fe.makeSurface(t,n,e,!1,"CreateRGBSurface",o,a,i,s)},e:function(e){},c:function(e){e&&fe.freeSurface(e)},m:function(e){if(fe.startTime=Date.now(),fe.initFlags=e,!t.doNotCaptureKeyboard){var n=t.keyboardListeningElement||document;n.addEventListener("keydown",fe.receiveEvent),n.addEventListener("keyup",fe.receiveEvent),n.addEventListener("keypress",fe.receiveEvent),window.addEventListener("focus",fe.receiveEvent),window.addEventListener("blur",fe.receiveEvent),document.addEventListener("visibilitychange",fe.receiveEvent)}return window.addEventListener("unload",fe.receiveEvent),fe.keyboardState=Le(65536),xe(fe.keyboardState,0,65536),fe.DOMEventToSDLEvent.keydown=768,fe.DOMEventToSDLEvent.keyup=769,fe.DOMEventToSDLEvent.keypress=771,fe.DOMEventToSDLEvent.mousedown=1025,fe.DOMEventToSDLEvent.mouseup=1026,fe.DOMEventToSDLEvent.mousemove=1024,fe.DOMEventToSDLEvent.wheel=1027,fe.DOMEventToSDLEvent.touchstart=1792,fe.DOMEventToSDLEvent.touchend=1793,fe.DOMEventToSDLEvent.touchmove=1794,fe.DOMEventToSDLEvent.unload=256,fe.DOMEventToSDLEvent.resize=28673,fe.DOMEventToSDLEvent.visibilitychange=512,fe.DOMEventToSDLEvent.focus=512,fe.DOMEventToSDLEvent.blur=512,fe.DOMEventToSDLEvent.joystick_axis_motion=1536,fe.DOMEventToSDLEvent.joystick_button_down=1539,fe.DOMEventToSDLEvent.joystick_button_up=1540,0},h:de,l:function(e,n,r,o){["touchstart","touchend","touchmove","mousedown","mouseup","mousemove","DOMMouseScroll","mousewheel","wheel","mouseout"].forEach((function(e){t.canvas.addEventListener(e,fe.receiveEvent,!0)}));var a=t.canvas;return 0==e&&0==n&&(e=a.width,n=a.height),fe.addedResizeListener||(fe.addedResizeListener=!0,le.resizeListeners.push((function(e,t){fe.settingVideoMode||fe.receiveEvent({type:"resize",w:e,h:t})}))),fe.settingVideoMode=!0,le.setCanvasSize(e,n),fe.settingVideoMode=!1,fe.screen&&(fe.freeSurface(fe.screen),g(!fe.screen)),fe.GL&&(o|=67108864),fe.screen=fe.makeSurface(e,n,o,!0,"screen"),fe.screen},g:function(e){g(!fe.GL);var n=fe.surfaces[e];if(n.locked&&!(--n.locked>0)){if(n.isFlagSet(2097152))fe.copyIndexedColorData(n);else if(n.colors)for(var r=t.canvas.width,o=t.canvas.height,a=n.buffer,i=(d=n.image.data,n.colors),s=0;s<o;s++){for(var u=s*r*4,c=0;c<r;c++){w=4*A[a++>>0];var l=u+4*c;d[l]=i[w],d[l+1]=i[w+1],d[l+2]=i[w+2]}a+=3*r}else{var d=n.image.data,f=n.buffer;g(f%4==0,"Invalid buffer offset: "+f);var m,p=f>>2,h=0,v=e==fe.screen;if("undefined"!==typeof CanvasPixelArray&&d instanceof CanvasPixelArray)for(m=d.length;h<m;){var w=C[p];d[h]=255&w,d[h+1]=w>>8&255,d[h+2]=w>>16&255,d[h+3]=v?255:w>>24&255,p++,h+=4}else{var y=new Uint32Array(d.buffer);if(v&&fe.defaults.opaqueFrontBuffer){m=y.length,y.set(C.subarray(p,p+m));var E=new Uint8Array(d.buffer),b=3,k=b+4*m;if(m%8==0)for(;b<k;)E[b]=255,E[b=b+4|0]=255,E[b=b+4|0]=255,E[b=b+4|0]=255,E[b=b+4|0]=255,E[b=b+4|0]=255,E[b=b+4|0]=255,E[b=b+4|0]=255,b=b+4|0;else for(;b<k;)E[b]=255,b=b+4|0}else y.set(C.subarray(p,p+y.length))}}n.ctx.putImageData(n.image,0,0)}},f:function(e,t,n,r){return fe.blitSurface(e,t,n,r,!1)},k:function(e,t,n){A.copyWithin(e,t,t+n)},a:function(e){e>>>=0;var t=A.length,n=2147483648;if(e>n)return!1;for(var r,o,a=1;a<=4;a*=2){var i=t*(1+.2/a);if(i=Math.min(i,e+100663296),pe(Math.min(n,((r=Math.max(16777216,e,i))%(o=65536)>0&&(r+=o-r%o),r))))return!0}return!1},d:function(e){return 0},j:function(e,t,n,r,o){},b:function(e,t,n,r){for(var o=0,a=0;a<n;a++){for(var i=C[t+8*a>>2],s=C[t+(8*a+4)>>2],u=0;u<s;u++)he.printChar(e,A[i+u]);o+=s}return C[r>>2]=o,0},memory:p,table:v},_e=(function(){var e={a:ke};function n(e,n){var r=e.exports;t.asm=r,H()}function r(e){n(e.instance)}function o(t){return(m||"function"!==typeof fetch?Promise.resolve().then(Z):fetch($,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at 'webp_wasm.wasm'";return e.arrayBuffer()})).catch((function(){return Z()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){f("failed to asynchronously prepare wasm: "+e),V(e)}))}if(Y(),t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(a){return f("Module.instantiateWasm callback failed with error: "+a),!1}(function(){if(m||"function"!==typeof WebAssembly.instantiateStreaming||K($)||"function"!==typeof fetch)return o(r);fetch($,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return f("wasm streaming compile failed: "+e),f("falling back to ArrayBuffer instantiation"),o(r)}))}))})()}(),t.___wasm_call_ctors=function(){return(_e=t.___wasm_call_ctors=t.asm.n).apply(null,arguments)}),xe=(t._WebpToSDL=function(){return(t._WebpToSDL=t.asm.o).apply(null,arguments)},t._memset=function(){return(xe=t._memset=t.asm.p).apply(null,arguments)}),De=t._memcpy=function(){return(De=t._memcpy=t.asm.q).apply(null,arguments)},Le=t._malloc=function(){return(Le=t._malloc=t.asm.r).apply(null,arguments)},Se=t._free=function(){return(Se=t._free=t.asm.s).apply(null,arguments)},Ae=t.___errno_location=function(){return(Ae=t.___errno_location=t.asm.t).apply(null,arguments)},Me=t.stackSave=function(){return(Me=t.stackSave=t.asm.u).apply(null,arguments)},Ce=t.stackRestore=function(){return(Ce=t.stackRestore=t.asm.v).apply(null,arguments)},Fe=t.stackAlloc=function(){return(Fe=t.stackAlloc=t.asm.w).apply(null,arguments)};function Pe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Re(e){function r(){be||(be=!0,t.calledRun=!0,w||(!0,t.noFSInit||ue.init.initialized||ue.init(),ie.init(),ee(O),ue.ignorePermissions=!1,ee(N),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),z.unshift(e);var e;ee(z)}()))}e=e||c,G>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),B.unshift(e);var e;ee(B)}(),G>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}if(t.cwrap=function(e,t,n,r){var o=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!r?y(e):function(){return E(e,t,n,arguments)}},W=function e(){be||Re(),be||(W=e)},t.run=Re,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return!0,Re(),t.ready}}();e.exports=r}}]);